{"version":3,"sources":["pages/HomePage.js","context/Context.js","hooks/http.hook.js","hooks/StopWatch.hook.js","components/Timer.js","pages/CallPage.js","hooks/random.string.hook.js","pages/AuthPage.js","components/Header.js","hooks/OnlineRoom.hook.js","pages/AdminPanel.js","components/Loader.js","components/LinksList.js","pages/VideoPage.js","pages/PrivacyPolicy.js","routes.js","hooks/auth.hook.js","App.js","serviceWorker.js","index.js","css/CallPage.module.css","css/AuthPage.module.css","css/HomePage.module.css","audeo/skayp-call.mp3","audeo/toot.mp3"],"names":["HomePage","className","styles","title","to","noop","Context","createContext","token","userEmail","userId","login","logout","isAuthenticated","online_room","setOnline_room","useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","async","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","useStopWatch","initialState","auth","useContext","isActive","setIsActive","isPaused","setIsPaused","time","setTime","useEffect","interval","setInterval","clearInterval","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","handleStart","handlePauseResume","username","call","duration","videoName","callFrom","Authorization","console","log","Timer","props","seconds","parseInt","hours","Math","floor","minutes","socket","openSocket","connect","process","reconnection","CallPage","parse","localStorage","getItem","name","surname","usersurname","email","callAccepted","setCallAccepted","callEnded","stream","setStream","setCall","setBusy__room","operatorId","setOperatorId","myVideo","useRef","userVideo","connectionRef","socketRef","screenStream","setScreenStream","voiceStream","setVoiceStream","setRecording","mediaRecorder","dataChunks","operatorId_mongo","Date","toLocaleDateString","replace","toLocaleTimeString","length","mask","result","i","round","random","useRandomString","Audeo_Call","Audio","ringtony","Toot_Call","toot","screen1","screen2","tabPanes","setTabPanes","mScreen","setMSreen","modal","setModal","callEndeBtnM","setCallEndeBtnM","stopRecording","current","from","emit","getMediaDevices","navigator","mediaDevices","getUserMedia","video","audio","srcObject","room","operator","getDisplayMedia","then","catch","err","on","callerName","signal","isReceivingCall","setTimeout","window","location","reload","e","rand","id","answerCall","mediaStream","MediaStream","getVideoTracks","getAudioTracks","MediaRecorder","ondataavailable","push","onstop","start","startRecording","loop","pause","peer","Peer","initiator","trickle","destroy","onerror","msg","lineNo","columnNo","leaveCall","scrollTo","document","documentElement","scrollHeight","top","behavior","play","innerWidth","tabPane1","intervalId","onClick","newestOnTop","rtl","pauseOnFocusLoss","title_callOperator","modal_container","is_open","modal_content","video_operator","video_player_little","ref","muted","autoPlay","video_player_user","video_player","video_player_operator","user_name","HangUp_div","type","call_btn_h","container","operatot_video_row","playsInline","btn_call_text","btn_call_name","btn_call","btn_call__ico","wraper_callBtn","callBtn","userToCall","signalData","callUser","title_callOperator_er","AuthPage","password","form","setForm","formL","setFormL","checkbox","setcheckbox","activebtn1","activebtn2","changeHandler","event","target","value","changeHandlerL","style","tab","role","nav_tabs","active","aria-controls","data-toggle","href","tab_content","form_horizontal","form_group","htmlFor","form_control","onChange","main_checkbox_","defaultChecked","disabled","placeholder","info","Header","authenticated","adm","state","setState","history","useHistory","prevState","newState","data-bs-toggle","data-bs-target","aria-expanded","aria-label","preventDefault","useOnlineRoom","online","index","fetchLinks","fetched","AdminPanel","isActive1","isActive2","isActive3","isActive4","isActive5","time1","time2","time3","time4","time5","Loader","display","justifyContent","paddingTop","LinksList","links","map","element","key","date","VideoPage","operatorRoomId","useParams","videoPath","setVideoPath","filteredVideoPath","setFilteredVideoPath","filter","link","toLowerCase","includes","PrivacyPolicy","useRoutes","setOperator","isMounted","path","exact","useAuth","setToken","ready","setReady","setUserId","setUserEmail","jwtToken","useremail","setItem","removeItem","App","routes","Provider","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","ReactDOM","render","getElementById","URL","origin","addEventListener","contentType","get","status","indexOf","unregister","checkValidServiceWorker","module","exports"],"mappings":"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","file":"static/js/main.be5e9d16.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from 'react-router-dom'\nimport styles from \"../css/HomePage.module.css\"\n\nexport const HomePage = () => {\n\n    return(\n    <>\n    <div className=\"Home_Page\">\n        <div className=\"blur\">  \n        <div className=\"container\">\n            <div className={styles.title}>\n            <h2>surdo.kg</h2>\n            <h4>сервис дистанционного сурдоперевода, который позволяет организациям обеспечивать доступную среду для инвалидов по слуху с минимальными затратами, \n                а глухим получить доступ к коммуникациям наравне со всеми.</h4>\n            </div>\n        </div>\n        </div>\n    </div>\n    <div className=\"text-center\"><Link className=\"nav-link\" to=\"/PrivacyPolicy\" >Политика конфиденциальности</Link></div>\n    </>\n    )\n\n}","import {createContext} from 'react'\n\nfunction noop() {}\n\nexport const Context = createContext({\n  token: null,\n  userEmail:null,\n  userId: null,\n  login: noop,\n  logout: noop,\n  isAuthenticated: false,\n  online_room:[], \n  setOnline_room :noop,\n})\n\n// export const Online = createContext({\n//  online:null,\n// })","import {useState, useCallback} from 'react'\n\nexport const useHttp = () => {\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState(null)\n\n  const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\n    setLoading(true)\n    try {\n      if (body) {\n        body = JSON.stringify(body)\n        headers['Content-Type'] = 'application/json'\n      }\n\n      const response = await fetch(url, {method, body, headers})\n      const data = await response.json()\n\n      if (!response.ok) {\n        throw new Error(data.message || 'Что-то пошло не так')\n      }\n\n      setLoading(false)\n\n      return data\n    } catch (e) {\n      setLoading(false)\n      setError(e.message)\n      throw e\n    }\n  }, [])\n\n  const clearError = useCallback(() => setError(null), [])\n\n  return { loading, request, error, clearError }\n}\n","import {useState, useEffect ,useContext } from 'react';\nimport {toast} from 'react-toastify'\nimport {Context} from '../context/Context'\nimport { useHttp } from './http.hook';\nexport  const useStopWatch = (initialState = 0) => {\n    const {request, error, clearError} = useHttp();\n    const auth = useContext(Context)\n    const [isActive, setIsActive] = useState(false);\n    const [isPaused, setIsPaused] = useState(true);\n    const [time, setTime] = useState(initialState);\n    \n    useEffect(() => {\n      let interval = null;\n      if (isActive && isPaused === false) {\n        interval = setInterval(() => {\n          setTime((time) => time + 1);\n        }, 1000);\n      } else {\n        clearInterval(interval);\n      }\n      return () => {\n        clearInterval(interval);\n      };\n    }, [isActive, isPaused]);\n\n    useEffect(() => {\n      error&&toast.error(`${error}`, {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        });\n      clearError()\n    }, [error, clearError])\n    \n    const handleStart = () => {\n      setIsActive(true);\n      setIsPaused(false);\n    };\n    \n    const handlePauseResume = async (username , call) => {\n      setIsPaused(!isPaused);\n      try {\n\n         await request('/api/time/save', 'POST', {duration: time, videoName: username , callFrom:call}, {\n          Authorization: `Bearer ${auth.token}`\n        })\n      } catch (e) {console.log(e)}\n    };\n    \n  return {\n    handleStart,handlePauseResume,time\n};\n};\n\nexport default useStopWatch;","// import \"./Timer.css\";\nexport default function Timer(props) {\n\n\tif (!props.props) {\n\t\treturn `0h:0m:0s`\n\t}\n\n\tvar seconds = parseInt(props.props, 10); // don't forget the second param\n    var hours   = Math.floor(seconds / 3600);\n    var minutes = Math.floor((seconds - (hours * 3600)) / 60);\n    seconds = seconds - (hours * 3600) - (minutes * 60);\n\n    if (hours   < 10) {hours   = \"0\"+hours;}\n    if (minutes < 10) {minutes = \"0\"+minutes;}\n    if (seconds < 10) {seconds = \"0\"+seconds;}\n\treturn `${hours}h:${minutes}m:${seconds}s`\n}\n","import React, { useState, useEffect, useRef } from \"react\";\nimport ringtony from \"../audeo/skayp-call.mp3\"\nimport toot from \"../audeo/toot.mp3\"\nimport styles from \"../css/CallPage.module.css\";\nimport {toast, ToastContainer} from 'react-toastify'\nimport Peer from 'simple-peer';\nimport openSocket from 'socket.io-client';\nimport 'react-toastify/dist/ReactToastify.css'\nimport useStopWatch  from \"../hooks/StopWatch.hook\";\nimport Timer from \"../components/Timer\";\nimport { useRandomString } from \"../hooks/random.string.hook\";\nconst socket = openSocket.connect(`${process.env.REACT_APP_API_URL}`, { reconnection: false })\nexport const CallPage = (props) => {\nconst {handleStart,handlePauseResume,time} = useStopWatch(0);\n  \n  const data = JSON.parse(localStorage.getItem('userData'));\n  const name = data.username;\n  const surname = data.usersurname;\n  const email = data.userEmail;\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [callEnded, setCallEnded] = useState(false);\n  const [stream, setStream] = useState();\n  const [call, setCall] = useState({});\n  const [online_room, setOnline_room] = useState([]);\n  const [busy__room, setBusy__room] = useState(true);\n  const [operatorId, setOperatorId] = useState();\n\n  const myVideo = useRef();\n  const userVideo = useRef();\n  const connectionRef = useRef();\n  const socketRef = useRef(socket);\n  \n  const [screenStream, setScreenStream] = useState(null);\n  const [voiceStream, setVoiceStream] = useState(null);\n  const [recording, setRecording] = useState(false);\n  // const [loading, setLoading] = useState(true);\n  let mediaRecorder = null;\n  let dataChunks = [];\n  let room;\n  let operatorId_mongo = data.userId;\n  const username = useRef(`${name}_${operatorId_mongo}_${new Date().toLocaleDateString().replace(/\\./g, '')}_${new Date().toLocaleTimeString().replace(/\\:/g, '')}_${useRandomString(8)}`);\n  const Audeo_Call = new Audio(ringtony);\n  const Toot_Call = new Audio(toot);\n\n  //style\n  const [tabPanes, setTabPanes] = useState({ screen1: true, screen2: false });\n  const [mScreen, setMSreen] = useState(false);\n  const [modal , setModal] = useState(false);\n  const [callEndeBtnM, setCallEndeBtnM ] = useState(100)\n\n  useEffect(() => {\n    const getMediaDevices = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n        setStream(stream);\n        myVideo.current.srcObject = stream;\n      } catch (err) {\n        console.log(\"An error occurred: \" + err);\n      }\n    };\n    if (props.props) {\n      const room = 'room' + props.props.operator;\n      socketRef.current.emit('user:connect', username.current);\n      getMediaDevices();\n      navigator.mediaDevices.getDisplayMedia({ video: true })\n        .then((screenStream) => setScreenStream(screenStream))\n        .catch((err) => console.log(\"An error occurred while getting screen media: \" + err));\n      navigator.mediaDevices.getUserMedia({ audio: true })\n        .then((voiceStream) => setVoiceStream(voiceStream))\n        .catch((err) => console.log(\"An error occurred while getting audio media: \" + err));\n      socket.emit('createRoom', email, room, operatorId_mongo);\n      socket.on('callUser', ({ from, name: callerName, signal, surname }) => {\n        setCall({ isReceivingCall: true, from, name: callerName, signal, surname });\n      });\n    } else {\n      socket.emit('createRoom', email);\n      socket.on('busy__room', (data) => { setBusy__room(data); });\n      socket.on('online_room', (data) => { setOnline_room(data); });\n      getMediaDevices();\n    }\n    socket.on('update', data => console.log(data));\n    socket.on('connect_error', err => {\n      console.log(err);\n      setTimeout(() => { window.location.reload(); }, 500);\n    });\n    socket.on('disconnect', () => { window.location.reload(); });\n    socket.on('callEndeMessage', (e) => { window.location.reload(); console.log(e);});\n    socket.on('callUser', ({ from, name: callerName, signal }) => {\n      setCall({ isReceivingCall: true, from, name: callerName, signal });\n    });\n\n  }, [props.props, email]);\n\n  useEffect(() => {\n    var rand = Math.floor(Math.random() * online_room.length);\n    if (online_room[rand]) {\n      let id = online_room[rand]\n      setOperatorId(id.operator)\n      console.log(online_room);\n      setBusy__room(false);\n    }\n  },[online_room]);\n\n  // let mediaRecorder;\n  // let dataChunks = [];\n\n  function startRecording() {\n    if (screenStream && voiceStream && !mediaRecorder) {\n      setRecording(true);\n      handleStart();\n      let mediaStream;\n      if (voiceStream === 'unavailable') {\n        mediaStream = screenStream;\n      } else {\n        mediaStream = new MediaStream([\n            ...screenStream.getVideoTracks(),\n            ...voiceStream.getAudioTracks()\n        ]);\n      }\n      mediaRecorder = new MediaRecorder(mediaStream);\n      mediaRecorder.ondataavailable = ({ data }) => {\n        dataChunks.push(data);\n        socketRef.current.emit('screenData:start', {\n          username: username.current,\n          data\n        });\n      };\n      mediaRecorder.onstop = stopRecording;\n      mediaRecorder.start(150);\n    }\n  }\n\n  function stopRecording() {\n    handlePauseResume(username.current, call.from);\n    setRecording(false);\n    socketRef.current.emit('screenData:end', username.current);\n    mediaRecorder = null;\n    dataChunks = [];\n  }\n  const answerCall = () => {\n\n    startRecording();\n    Audeo_Call.loop = false;\n    Audeo_Call.pause();\n    setCallAccepted(true);\n    const peer = new Peer({ initiator: false,  trickle: false, stream: stream });\n    peer.on('signal', (data) => {\n      socket.emit('answerCall', { signal: data, to: call.from ,room:'room' + props.props.operator});\n    });\n    peer.on('stream', data => {\n      userVideo.current.srcObject  = data;\n    });\n    peer.on('error', (err) => {\n      console.log(err);\n      if(err=\"RTCError: User-Initiated Abort, reason=Close called\"){\n        toast.error(`связь прервана №${err.message}`, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          });\n        stopRecording();\n        socket.emit('callEnde', call.from);\n        connectionRef.current.destroy();\n        setTimeout(() => {\n          window.location.reload();\n        }, 500);\n      }\n      })\n    peer.signal(call.signal);\n    connectionRef.current = peer;\n  };\n\n  const callUser = (id) => {\n    Toot_Call.loop = true;\n    Toot_Call.play();\n    const peer = new Peer({ initiator: true, trickle: false, stream: stream });\n\n    peer.on('error', (err) => {console.log(err);})\n    peer.on('signal', (data) => {\n      socket.emit('callUser', { userToCall: id, signalData: data, from: email, name:name, surname:surname});\n    });\n    peer.on('stream', (data) => {\n      Toot_Call.loop = false;\n      Toot_Call.pause();\n      userVideo.current.srcObject = data;\n    });\n    socket.on('callAccepted', (signal) => {\n      setCallAccepted(true);\n      peer.signal(signal);\n    });\n    connectionRef.current = peer;\n  };\n\n\n\n  window.onerror = function(msg, url, lineNo, columnNo, error) {\n    // ... обработка ошибки ...\n   if(msg==='Uncaught Error: Connection failed.'){\n    stopRecording();\n    toast.error(`Connection failed`, {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      });\n    setTimeout(() => {\n      window.location.reload();\n    }, 500);\n   }\n    return false;\n  }\n\n  const leaveCall = () => {\n    window.scrollTo(0,document.documentElement.scrollHeight)\n    stopRecording();\n    socket.emit('callEnde', call.from);\n    connectionRef.current.destroy();\n    setTimeout(() => {\n      window.location.reload();\n    }, 500);\n  };\n\n  useEffect(() => {\n    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\n    if (call.isReceivingCall&&!callAccepted) {\n      Audeo_Call.loop = true;\n      Audeo_Call.play();\n    } else {\n      Audeo_Call.loop = false;\n      Audeo_Call.pause();\n    }\n    // Clean up the effect\n    return () => {\n      Audeo_Call.loop = false;\n      setTimeout(() => {\n        Audeo_Call.pause();\n      }, 500);\n   \n    };\n  }, [call,callAccepted]);\n  //style\n\n  useEffect(()=>{\n  if(576>=window.innerWidth){\n  setMSreen(true)\n  }},[])\n\n  var openModal = function() {\n    if(576>=window.innerWidth){\n      setModal(true)\n    }\n  }\n  const tabPane1 = () => {\n    setTabPanes({ screen1: !tabPanes.screen1, screen2: tabPanes.screen1 })\n  }\n\n  useEffect(() => {\n    if (!callEndeBtnM) return;\n    const intervalId = setInterval(() => {\n      setCallEndeBtnM(callEndeBtnM - 1);\n    }, 1000);\n\n    return () => clearInterval(intervalId);\n  }, [callEndeBtnM]);\n  const callBtnFunc = () => {\n    setCallEndeBtnM(8)\n    }\n    useEffect(() => {\n      if (myVideo.current !== undefined) {\n        myVideo.current.play()\n      }\n      if (userVideo.current !== undefined) {\n        userVideo.current.play()\n      }\n    }, [modal]);\n  return (\n    <div className=\"container\" onClick={()=>callBtnFunc()}>\n            <ToastContainer\n              position=\"top-right\"\n              autoClose={5000}\n              hideProgressBar={false}\n              newestOnTop={false}\n              closeOnClick\n              rtl={false}\n              pauseOnFocusLoss\n              draggable\n              pauseOnHover\n            />\n      <h1 className={styles.title_callOperator} >Переводчик жестового языка</h1>\n      <div className=\"Operators-row\" >\n        {mScreen?\n        <div className={styles.modal_container + \" \" + `${modal&&styles.is_open}`}>\n        <div className={styles.modal_content} >\n              <div className={styles.video_operator + \" \" +styles.video + \" \" + `${tabPanes.screen2 && styles.video_player_little}`} onClick={() => { tabPane1() }}>\n                <video  ref={myVideo} muted autoPlay  className={styles.video_player_user+\" \"+styles.video_player} />\n              </div>\n              {callAccepted && !callEnded && (\n                  <div className={styles.video + \" \" + `${tabPanes.screen1 && styles.video_player_little}`} onClick={() => { tabPane1() }}>\n                  <video  ref={userVideo} autoPlay className={styles.video_player_operator + ' ' + styles.video_player}></video>\n                    <h6 className={styles.user_name}>{call.name} {call.surname} </h6>\n                  <h6 className={styles.user_name}>{call.email} </h6>\n                </div> \n              )}\n              {callEndeBtnM&&\n              <div className={styles.HangUp_div}>\n                <button type=\"button\" className={styles.call_btn_h} onClick={leaveCall}>\n                  {/* Hang Up */}\n                </button>\n              </div>\n              }\n        </div>\n      </div>\n      :\n      <div className={styles.container}>\n        <div className={styles.operatot_video_row}>\n          \n              <div className=\"col-6 p-2\">\n                <video playsInline ref={myVideo} muted autoPlay className={styles.video_player_user+\" \"+styles.video_player} />\n              </div>\n              \n              {callAccepted && !callEnded && (\n                      <div className=\"col-6 p-2\">\n                        <video  ref={userVideo} autoPlay className={styles.video_player_operator + ' ' + styles.video_player}></video>\n                        <h6 className={styles.user_name}>{call.name} {call.surname} </h6>\n                        {/* <h6 className={styles.user_name}>{call.email} </h6> */}\n                      </div>\n              )}\n             </div>\n      </div>}\n      </div>\n      {call.isReceivingCall && !callAccepted && (\n        <div  className={styles.btn_call_text}>\n          <p className={styles.btn_call_name}>{call.name}</p> \n          <button className={styles.btn_call} onClick={()=>{answerCall()}}>\n            <div className={styles.btn_call__ico}>\n              <i className=\"fas fa-phone-alt\"></i>\n            </div>\n        </button>\n        </div>\n      )}\n      <div className={styles.wraper_callBtn}>\n      {callAccepted && !callEnded ? (\n             <div className={styles.HangUp_div}>\n                <button type=\"button\" className={styles.call_btn_h} onClick={leaveCall}>\n                  {/* Hang Up */}\n                </button>\n              </div>\n        ) : (online_room.length?\n              <div className={styles.HangUp_div}>\n                <button type=\"button\" className={styles.callBtn} onClick={() => { callUser(operatorId); setCallAccepted(true); openModal();}}>\n                   {/* Hang D */}\n                </button>\n              </div>:props.props?\"\":<div className={styles.HangUp_div}>\n                <div className=\"row\">\n                  <h4 className={styles.title_callOperator_er} >просим подождать несколько минут все операторы заняты</h4>\n                  <h5 className={styles.title_callOperator_er} >когда появится зеленая кнопка нажмите его для осуществления видеозвонка</h5>\n                  </div>\n              </div>\n            )}\n      </div>\n      <div className=\"text-end text-danger\">\n      <Timer props={time}/>\n      </div>\n   \n    </div>\n  )\n}","export function useRandomString(length) {\n    var mask = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'; \n    var result = '';\n    for (var i = length; i > 0; --i) result += mask[Math.round(Math.random() * (mask.length - 1))];\n    return result;\n}","import React, {useContext, useEffect, useState} from 'react'\nimport {useHttp} from '../hooks/http.hook'\nimport {Context} from '../context/Context'\nimport {toast, ToastContainer} from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\nimport styles from '../css/AuthPage.module.css'\n\nexport const AuthPage = () => {\n  const auth = useContext(Context)\n  const {loading, request, error, clearError} = useHttp()\n  // const [errorMessage, useerrorMessage] = useState(\" \")\n  const [form, setForm] = useState({\n    username: '',surname: '',email: '', password: ''\n  })\n  const [formL, setFormL] = useState({\n   email: '', password: ''\n  })\n   const [checkbox, setcheckbox] = useState(true)\n  const [tabPanes, setTabPanes] = useState({activebtn1:true,activebtn2:false});\n\n  useEffect(() => {\n    error&&toast.error(`${error}`, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      });\n    clearError()\n  }, [error, clearError])\n\n  // useEffect(() => {\n  //   window.M.updateTextFields()\n  // }, [])\n  const changeHandler = event => {\n    setForm({ ...form, [event.target.name]: event.target.value })\n  }\n  const changeHandlerL = event => {\n    setFormL({ ...formL, [event.target.name]: event.target.value })\n  }\n  const registerHandler = async () => {\n    try {\n      const data = await request('/api/auth/register', 'POST', {...form})\n      toast.info(`${data.message}`, {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        });\n   \n    } catch (e) {}\n  }\n  const loginHandler = async () => {\n    // console.log({...form});\n    try {\n      const data = await request('/api/auth/login', 'POST', {...formL})\n      auth.login(data.token, data.userId , data.email, data.username, data.surname, checkbox)\n      setTimeout(() => {\n        window.location.reload();\n      }, 500);\n    } catch (e) {}\n  }\n  const tabPane1 = () =>{\n    setTabPanes({activebtn1:true,activebtn2:false})\n  }\n  const tabPane2 = () =>{\n    setTabPanes({activebtn1:false,activebtn2:true})\n  }\n  return (<>\n  {/* < Header props={null} /> */}\n    <div >\n      <ToastContainer\n          position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n  />\n      <div className=\"container mt-5\" >\n      <div className=\"row justify-content-center  align-content-center\" style={{\"height\":\"100%\",\"marginTop\":\"50px\"}}>\n      <div className=\"col-md-offset-3 col-md-6 \">\n\n         <div className={styles.tab} role=\"tabpanel\">\n            <ul className={\"nav \"+styles.nav_tabs} role=\"tablist\">\n              <li role=\"presentation\" className={tabPanes.activebtn1?styles.active:\"\"}><button aria-controls=\"home\" role=\"tab\" data-toggle=\"tab\" onClick={()=>tabPane1()}>Войти в систему</button></li>\n              <li role=\"presentation\" className={tabPanes.activebtn2?styles.active:\"\"} ><button href=\"#Section2\" aria-controls=\"profile\" role=\"tab\" data-toggle=\"tab\" onClick={()=>tabPane2()}>Заявка на подключение</button></li>\n            </ul>\n            <div className={styles.tab_content+\" tabs\"}>{tabPanes.activebtn1?\n              <div role=\"tabpanel\" className=\"tab-pane\" id=\"Section1\" >\n                <form className={styles.form_horizontal}>\n                  <div className={\"form-group \"+ styles.form_group}>\n                    <label htmlFor=\"exampleInputEmail1\">Email</label>\n                    <input type=\"email\" className={\"form-control \" + styles.form_control}                     \n                        id=\"email\"\n                        name=\"email\"\n                        value={formL.email}\n                        onChange={changeHandlerL} />\n                  </div>\n                  <div className={styles.form_group+\" form-group \"}>\n                    <label htmlFor=\"exampleInputPassword1\">пароль</label>\n                    <input type=\"password\" className={styles.form_control+\" form-control\"}\n                        id=\"password\"\n                        name=\"password\"\n                        value={formL.password}\n                        onChange={changeHandlerL} />\n                  </div>\n                  <div className={\"form-group \"+styles.form_group}>\n                    <div className={\" form-check \"+styles.main_checkbox_+\" form-check\"}>\n                       {/* <input value=\"None\" id=\"checkbox1\" name=\"check\" type=\"checkbox\"/>\n                       <label htmlFor=\"checkbox1\"></label> */}\n                      <input className=\"form-check-input\" style={{\"marginLeft\":\"0px\"}} type=\"checkbox\" defaultChecked={checkbox}  onChange={()=>{setcheckbox(!checkbox)}}/>\n                      <label className=\"form-check-label\" htmlFor=\"flexCheckChecked\"> запомнить меня\n                      </label>\n                    </div>\n                  </div>\n                  <div className=\"form-group forgot_pass\">\n                      <button type=\"submit\"\n                        className=\"btn btn-warning w-100\"\n                        style={{ \"fontWeight\": \"bold\", \"color\": \"#fff\", \"borderRadius\": \"20px\" }}\n                        disabled={loading}              \n                        onClick={loginHandler}\n                      >Войти</button>\n                  </div>\n                </form>\n              </div>:\n              <div role=\"tabpanel\" className=\"tab-pane  \" id=\"Section2\"  >\n                <form className={styles.form_horizontal}>\n            <div className={\"form-group \"+ styles.form_group}>\n                    <label htmlFor=\"exampleInputEmail2\">имя</label>\n                                  <input\n                                    placeholder=\"ведите ваше имя\"\n                                    id=\"exampleInputEmail2\"\n                                    type=\"text\"\n                                    name=\"username\"\n                                    className={\"form-control \" + styles.form_control}\n                                    value={form.username}\n                                    onChange={changeHandler}\n                                  />        \n                  </div>\n                  <div className={styles.form_group} style={{}}>\n                    <label htmlFor=\"exampleInputEmail1\">фамилия</label>\n                      <input\n                        placeholder=\"ведите ваше фамилия\"\n                        id=\"exampleInputEmail1\"\n                        type=\"text\"\n                        name=\"surname\"\n                        className={\"form-control \" + styles.form_control}\n                        value={form.surname}\n                        onChange={changeHandler}\n                      />\n                  </div>\n                  <div className={styles.form_group}>\n                    <label htmlFor=\"exampleInputEmail1\">Email</label>\n                      <input\n                        placeholder=\"Введите email\"\n                        id=\"email\"\n                        type=\"text\"\n                        name=\"email\"\n                        className={\"form-control \" + styles.form_control}\n                        value={form.email}\n                        onChange={changeHandler}\n                      />\n                  </div>\n                  <div className={styles.form_group+\" form-group \"}>\n                    <label htmlFor=\"exampleInputPassword1\">пароль</label>\n                      <input type=\"password\"\n                        className={styles.form_control + \" form-control\"}\n                        placeholder=\"Введите пароль\"\n                        id=\"password\"\n                        name=\"password\"\n                        value={form.password}\n                        onChange={changeHandler}\n                        />\n                  </div>\n                  {/* <div className={styles.form_group+\" form-group \"}>\n                    <label htmlFor=\"exampleInputPassword1\">повтор пароля</label>\n                      <input type=\"password\"\n                        className={styles.form_control + \" form-control\"}\n                        placeholder=\"Введите пароль\"\n                        id=\"password\"\n                        name=\"password\"\n                        value={form.password2}\n                        onChange={changeHandler}\n                        />\n                  </div> */}\n                  <div className={\"form-group \"+styles.form_group}>\n                    <div className={\" form-check \"+styles.main_checkbox_+\" form-check\"}>\n                       {/* <input value=\"None\" id=\"checkbox1\" name=\"check\" type=\"checkbox\"/>\n                       <label htmlFor=\"checkbox1\"></label> */}\n                      <input className=\"form-check-input\" style={{\"marginLeft\":\"0px\"}} type=\"checkbox\"  id=\"flexCheckChecked\" defaultChecked={checkbox} onChange={()=>{setcheckbox(!checkbox);}}   />\n                      <label className=\"form-check-label\" htmlFor=\"flexCheckChecked\"> запомнить меня\n                      </label>\n                    </div>\n                  </div>\n                  <div className=\"form-group forgot_pass\">\n                      <button type=\"submit\"\n                        className=\"btn btn-warning w-100\"\n                        onClick={registerHandler}                                                      \n                        disabled={loading}\n                        style={{ \"fontWeight\": \"bold\", \"color\": \"#fff\", \"borderRadius\": \"20px\" }}>\n                        Регистрация</button>\n                  </div>\n                </form>\n              </div>}\n            </div>\n          </div>\n    </div>\n    </div>\n    </div>\n</div>\n</>\n  )\n}\n","import React, { useContext, useState, useEffect } from 'react'\nimport { NavLink, useHistory } from 'react-router-dom'\nimport { Context } from '../context/Context'\n\nexport const Header = (props) => {\n  const isAuthenticated = props.props;\n  const [state, setState] = useState({ authenticated: false, operator: false, adm: false });\n  const data = JSON.parse(localStorage.getItem('userData'));\n  const history = useHistory()\n  const auth = useContext(Context)\n  const logoutHandler = event => {\n    event.preventDefault()\n    auth.logout()\n    history.push('/AuthPage')\n  }\n  useEffect(() => {\n    setState(prevState => {\n      const newState = { ...prevState };\n  \n      if (isAuthenticated !== null) {\n        newState.authenticated = true;\n      }\n  \n      if (data && data.userEmail === \"admin@gmail.com\") {\n        newState.adm = true;\n      }\n  \n      switch (data && data.userEmail) {\n        case \"operator1@gmail.com\":\n        case \"operator2@gmail.com\":\n        case \"operator3@gmail.com\":\n        case \"operator4@gmail.com\":\n        case \"operator5@gmail.com\":\n          newState.operator = true;\n          break;\n        default:\n          break;\n      }\n  \n      return newState;\n    });\n  }, [isAuthenticated]);\n  return (\n    <div>\n      <nav className=\"navbar navbar-expand-md navbar-dark  navbarbg\">\n        <div className=\"container-fluid\">\n        <NavLink className=\"navbar-brand\" to=\"/HomePage\">главная</NavLink>\n          <button className=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n            <ul className=\"navbar-nav me-auto mb-2 mb-md-0\">\n              {data ? state.operator ?\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link\" to=\"/CallPage\">прием звонков</NavLink>\n                </li> :\n                <li className=\"nav-item\">\n                  <NavLink className=\"nav-link\" to=\"/CallPage\">позвонить</NavLink>\n                </li> : ''}\n              {data?state.adm ? <NavLink className=\"nav-link\" to=\"/AdminPanel\">админ панель</NavLink> : \"\":\"\"}\n            </ul>\n            <ul className='navbar-nav'>\n              <li className=\"nav-item\">\n                <a className=\"nav-link\" href=\"/AuthPage\" onClick={logoutHandler}>{data?\"выйти\":\"вход в аккаунт\"}</a>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </nav>\n    </div>\n  )\n}\n","import { useState, useEffect, useContext, useCallback } from 'react';\nimport openSocket from 'socket.io-client';\nimport { toast } from 'react-toastify'\nimport { Context } from '../context/Context'\nimport { useHttp } from './http.hook';\n\n// const socket = openSocket.connect('http://localhost:5000/', { reconnection: false });\nconst socket = openSocket.connect(process.env.REACT_APP_API_URL, { reconnection: false })\nconst useOnlineRoom = (initialState) => {\n  const auth = useContext(Context);\n  const { token } = auth;\n  const { request } = useHttp();\n\n  const [isActive, setIsActive] = useState(\"не в сети\");\n  const [time, setTime] = useState(false);\n  const [online_room, setOnline_room] = useState([]);\n\n  const data = JSON.parse(localStorage.getItem('userData'));\n  const email = data.userEmail;\n\n  useEffect(() => {\n    let isCancelled = false;\n    socket.emit('createRoom', email);\n    socket.on('online_room', (data) => {\n      setOnline_room(data);\n    })\n    return () => {\n      isCancelled = true;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (online_room.length == 0) {\n      setIsActive(\"не в сети\");\n    } else {\n      let online = online_room\n      for (let index = 0; index < online.length; index++) {\n        const element = online[index];\n        if (element.operator === `room${initialState}`) {\n          setIsActive(\"online\");\n        }\n      }\n    }\n  }, [online_room]);\n\n  const fetchLinks = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/time/${initialState}`, 'GET', null, {\n        Authorization: `Bearer ${token}`\n      });\n      setTime(fetched);\n    } catch (e) {\n      toast.error(`${e}`, {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n      });\n    }\n  }, [initialState, request, token]);\n\n  useEffect(() => {\n    if (initialState) {\n      fetchLinks();\n    }\n  }, [fetchLinks, initialState]);\n\n  return {\n    isActive,\n    time,\n    online_room,\n    setOnline_room\n  };\n};\n\nexport default useOnlineRoom;\n","import React from 'react';\nimport Timer from '../components/Timer.js';\nimport useOnlineRoom from '../hooks/OnlineRoom.hook.js';\nimport {Link} from 'react-router-dom';\n\nexport const AdminPanel = () => {\n   const isActive1 = useOnlineRoom(1).isActive;\n\n   const isActive2 = useOnlineRoom(2).isActive;\n   const isActive3 = useOnlineRoom(3).isActive;\n   const isActive4 = useOnlineRoom(4).isActive;\n   const isActive5 = useOnlineRoom(5).isActive;\n   const time1 = useOnlineRoom(1).time;\n   const time2 = useOnlineRoom(2).time;\n   const time3 = useOnlineRoom(3).time;\n   const time4 = useOnlineRoom(4).time;\n   const time5 = useOnlineRoom(5).time;\n    return(\n    <div className=\"container mt-5\">\n        <Link\n          style={{\"textDecoration\": \"none\"}}\n          to={`/detailVideo/${1}`}\n          className=\"col-xl-8 mt-3 adminLink\"\n        >\n          <div className=\"row mt-3 p-3 d-flex flex-row list-group-item-primary align-self-center shadow-lg rounded-3 align-items-center\">\n            <h5 className=\"col-4 m-0\">Operator1</h5>\n            <span className=\"col-2 text-center text-success rounded-3\">{isActive1}</span>\n            <p className=\"col-6 m-0 text-center\">\n              <span className=\"text-warning m-0 text-dark\">\n                <Timer props={time1} />\n              </span>\n            </p>\n          </div>\n        </Link>\n        <Link\n            style={{\"textDecoration\": \"none\"}}\n          to={`/detailVideo/${2}`}\n          className=\"col-xl-8 mt-3 adminLink\"\n        >\n          <div className=\"row mt-3 p-3 d-flex flex-row list-group-item-primary align-self-center shadow-lg rounded-3 align-items-center\">\n            <h5 className=\"col-4 m-0\">Operator2</h5>\n            <span className=\"col-2 text-center text-success rounded-3\">{isActive2}</span>\n            <p className=\"col-6 m-0 text-center\">\n              <span className=\"text-warning m-0 text-dark\">\n                <Timer props={time2} />\n              </span>\n            </p>\n          </div>\n        </Link>\n        <Link\n           style={{\"textDecoration\": \"none\"}}\n          to={`/detailVideo/${3}`}\n          className=\"col-xl-8 mt-3 adminLink\"\n        >\n          <div className=\"row mt-3 p-3 d-flex flex-row list-group-item-primary align-self-center shadow-lg rounded-3 align-items-center\">\n            <h5 className=\"col-4 m-0\">Operator3</h5>\n            <span className=\"col-2 text-center text-success rounded-3\">{isActive3}</span>\n            <p className=\"col-6 m-0 text-center\">\n              <span className=\"text-warning m-0 text-dark\">\n                <Timer props={time3} />\n              </span>\n            </p>\n          </div>\n        </Link>\n        <Link\n           style={{\"textDecoration\": \"none\"}}\n          to={`/detailVideo/${4}`}\n          className=\"col-xl-8 mt-3 adminLink\"\n        >\n          <div className=\"row mt-3 p-3 d-flex flex-row list-group-item-primary align-self-center shadow-lg rounded-3 align-items-center\">\n            <h5 className=\"col-4 m-0\">Operator4</h5>\n            <span className=\"col-2 text-center text-success rounded-3\">{isActive4}</span>\n            <p className=\"col-6 m-0 text-center\">\n              <span className=\"text-warning m-0 text-dark\">\n                <Timer props={time4} />\n              </span>\n            </p>\n          </div>\n        </Link>\n        <Link\n           style={{\"textDecoration\": \"none\"}}\n          to={`/detailVideo/${5}`}\n          className=\"col-xl-8 mt-3 adminLink\"\n        >\n          <div className=\"row mt-3 p-3 d-flex flex-row list-group-item-primary align-self-center shadow-lg rounded-3 align-items-center\">\n            <h5 className=\"col-4 m-0\">Operator5</h5>\n            <span className=\"col-2 text-center text-success rounded-3\">{isActive5}</span>\n            <p className=\"col-6 m-0 text-center\">\n              <span className=\"text-warning m-0 text-dark\">\n                <Timer props={time5} />\n              </span>\n            </p>\n          </div>\n        </Link>\n        </div>\n    )\n}","import React from 'react'\n\nexport const Loader = () => (\n  <div style={{display: 'flex', justifyContent: 'center', paddingTop: '2rem'}}>\n    <div className=\"preloader-wrapper active\">\n      <div className=\"spinner-layer spinner-red-only\">\n        <div className=\"circle-clipper left\">\n          <div className=\"circle\" />\n        </div>\n        <div className=\"gap-patch\">\n          <div className=\"circle\" />\n        </div>\n        <div className=\"circle-clipper right\">\n          <div className=\"circle\" />\n        </div>\n      </div>\n    </div>\n  </div>\n)\n","import React from 'react'\n\nexport const LinksList = ({ links }) => {\n  if (!links.length) {\n    return <h2 className=\"center\">нет записи</h2>\n  }\n\n  return (\n    <>\n      {links.map((element, index) => {\n        return (\n          <div key={index} className=\"bg-light row mb-3\" style={{ \"maxWidth\": \"35rm\" }}>\n            <div className='col-6'>\n              <ul className=\"list-group\">\n                <div>Дата</div>\n                <li className=\"list-group-item text-sm\">{new Date(`${element.date}`).toLocaleDateString()}</li>\n                <div>Звонок от</div>\n                <li className=\"list-group-item text-sm\" style={{ \"overflowY\": \"auto\" }}>{element.callFrom}</li>\n              </ul>\n            </div>\n            <div className='col-6'>\n              <div className=\"d-flex flex-column align-content-end\">\n                <ul className=\"list-group w-100\">\n                  <div>Длительность</div>\n                  <li className=\"list-group-item\">{element.duration}</li>\n                </ul>\n                {/* <a className=\"btn btn-link text-sm mt-4\" href={`http://localhost:5000/static/${element.videoName}.webm`}>Посмотреть видео</a> */}\n                <a className=\"btn btn-primary text-sm mt-4\" href={`${process.env.REACT_APP_API_URL}/static/${element.videoName}.webm`}>Посмотреть видео</a>\n\n              </div>\n            </div>\n          </div>\n        )\n      })}\n    </>\n  )\n}\n","import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { useHttp } from '../hooks/http.hook';\nimport { Context } from '../context/Context';\nimport { Loader } from '../components/Loader';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { LinksList } from '../components/LinksList';\n\nexport const VideoPage = () => {\n  const operatorRoomId = useParams().id;\n  const [videoPath, setVideoPath] = useState([]);\n  const { loading, request } = useHttp();\n  const auth = useContext(Context);\n  const { token } = auth;\n\n  const [form, setForm] = useState('');\n  const [filteredVideoPath, setFilteredVideoPath] = useState([]);\n  \n  const fetchLinks = useCallback(async () => {\n    try {\n      const fetched = await request(`/api/video/operator/${operatorRoomId}`, 'GET', null, {\n        Authorization: `Bearer ${token}`,\n      });\n      setVideoPath(fetched);\n    } catch (e) {\n      toast.error(`${e}`, {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        });\n    }\n  }, [token, request, operatorRoomId]);\n\n  useEffect(() => {\n    fetchLinks();\n  }, [fetchLinks]);\n\n  useEffect(() => {\n    setFilteredVideoPath(\n      videoPath.filter((link) => link.callFrom && link.callFrom.toLowerCase().includes(form.toLowerCase()))\n    );\n  }, [form, videoPath]);\n\n  const changeHandler = (event) => {\n    event.preventDefault();\n    setForm(event.target.value);\n  };\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <>\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n        closeOnClick\n        rtl={false}\n        pauseOnFocusLoss\n        draggable\n        pauseOnHover\n      />\n      <div className=\"container\">\n        <div className=\"d-flex\">\n          <input\n            className=\"form-control mb-4 mt-4\"\n            id=\"tableSearch\"\n            type=\"text\"\n            placeholder=\"Введите имя пользователя\"\n            value={form}\n            onChange={changeHandler}\n          />\n          {/* <input onClick={onFormSubmit} type=\"submit\" className='btn btn-primary mb-4 mt-4 pl-2'></input> */}\n        </div>\n\n        {!loading && <LinksList links={filteredVideoPath} />}\n      </div>\n    </>\n  );\n};\n","import React from 'react';\n\nfunction PrivacyPolicy() {\n  return (\n    <div className='container mt-5'>\n    <div className='text-centor'>\n      <h2>Политика конфиденциальности</h2>\n      <p>\n        Эта страница описывает, как мы собираем, используем и раскрываем личную информацию пользователей при использовании наших услуг.\n      </p>\n      <p>\n        Мы собираем определенную личную информацию, которую вы предоставляете добровольно, такую как имя, адрес электронной почты и информацию о социальных сетях. Однако, мы не запрашиваем конфиденциальную информацию, такую как финансовые и платежные данные, информацию аутентификации, данные контактов.\n      </p>\n      <p>\n        Мы используем вашу информацию только для того, чтобы обслуживать вас лучше. Мы не храним персональную информацию и не раскрываем ее. Мы можем раскрывать неперсональную информацию нашим надежным партнерам, но не объединяем ее с персональной информацией.\n      </p>\n    </div>\n    </div>\n  );\n}\n\nexport default PrivacyPolicy;","import React,{useState,useEffect } from 'react'\nimport {Switch, Route, Redirect} from 'react-router-dom'\nimport {HomePage} from './pages/HomePage'\nimport {CallPage} from './pages/CallPage'\nimport {AuthPage} from './pages/AuthPage'\nimport { Header } from './components/Header'\nimport {AdminPanel} from './pages/AdminPanel'\nimport { VideoPage } from './pages/VideoPage'\nimport PrivacyPolicy from './pages/PrivacyPolicy'\n// const AdminPanel = lazy(() => import('./pages/AdminPanel'));\n\nexport const useRoutes = (isAuthenticated) => {\n  const [operator, setOperator] = useState(null);\n  const data = JSON.parse(localStorage.getItem('userData'));\n  useEffect(() => {\n    let isMounted = true;\n    switch (data && data.userEmail) {\n      case 'operator1@gmail.com':\n        isMounted && setOperator({ operator: 1 });\n        break;\n      case 'operator2@gmail.com':\n        isMounted && setOperator({ operator: 2 });\n        break;\n      case 'operator3@gmail.com':\n        isMounted && setOperator({ operator: 3 });\n        break;\n      case 'operator4@gmail.com':\n        isMounted && setOperator({ operator: 4 });\n        break;\n      case 'operator5@gmail.com':\n        isMounted && setOperator({ operator: 5 });\n        break;\n      default:\n        break;\n    }\n    return () => {\n      isMounted = false;\n    };\n  }, [0]);\n\n  if (isAuthenticated) {\n    return (\n      <>\n        <Header props={operator} />\n        <Switch>\n          {operator ? (\n            <Route path=\"/CallPage\">\n              <CallPage props={operator} />\n            </Route>\n          ) : (\n      \n            <Route path=\"/CallPage\">\n              <CallPage props={operator} />\n            </Route>\n\n          )}\n            <Route path=\"/AdminPanel\" exact>\n              <AdminPanel />\n            </Route>\n            <Route path=\"/PrivacyPolicy\" exact>\n                <PrivacyPolicy />\n             </Route>\n          <Route path=\"/detailVideo/:id\">\n            <VideoPage />\n          </Route>\n          <Redirect to=\"/HomePage\" />\n        </Switch>\n        <Route path=\"/HomePage\" exact>\n          <HomePage />\n        </Route>\n      </>\n    );\n  }\n\n  return (\n    <>\n      <Header props={operator} />\n      <Switch>\n        <Route path=\"/HomePage\" exact>\n          <HomePage />\n        </Route>\n        <Route path=\"/AuthPage\" exact>\n          <AuthPage />\n        </Route>\n        <Route path=\"/PrivacyPolicy\" exact>\n          <PrivacyPolicy />\n        </Route>\n        \n        <Redirect to=\"/HomePage\" />\n      </Switch>\n    </>\n  );\n};\n\n","import {useState, useCallback, useEffect} from 'react'\n\nconst storageName = 'userData'\n\nexport const useAuth = () => {\n  const [token, setToken] = useState(null)\n  const [ready, setReady] = useState(false)\n  const [userId, setUserId] = useState(null)\n   const [userEmail, setUserEmail] = useState(null)\n\n  const login = useCallback((jwtToken, id, useremail, username, surname, checkbox) => {\n    setToken(jwtToken)\n    setUserId(id)\n    setUserEmail(useremail)\n    checkbox&&localStorage.setItem(storageName, JSON.stringify({\n      userId: id, token: jwtToken, username:username, usersurname:surname, userEmail:useremail\n    }))\n  }, [])\n\n\n  const logout = useCallback(() => {\n    setToken(null)\n    setUserId(null)\n     setUserEmail(null)\n    localStorage.removeItem(storageName)\n  }, [])\n\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem(storageName))\n\n    if (data && data.token) {\n      login(data.token, data.userId, data.userEmail)\n    }\n    setReady(true)\n  }, [login])\n\n\n  return { login, logout, token, userId, ready , userEmail }\n}\n","import React from 'react'\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport {useRoutes} from './routes'\nimport {useAuth} from './hooks/auth.hook'\nimport {Context} from './context/Context'\nimport {Loader} from './components/Loader'\nimport 'bootstrap/dist/css/bootstrap.min.css' ;\nimport \"./index.css\";\n\nfunction App() {\n  const {token, login, logout, userId, ready, userEmail} = useAuth()\n  const isAuthenticated = !!token\n  const routes = useRoutes(isAuthenticated)\n  if (!ready) {\n    return <Loader />\n  }\n\n  return (\n    <Context.Provider value={{\n      token, login, logout, userId, isAuthenticated,userEmail\n    }}>\n\n      <Router>\n          {routes}\n      </Router>\n\n    </Context.Provider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import 'bootstrap/dist/css/bootstrap.min.css' ;\n// import './index.css';\n// import 'bootstrap/dist/css/bootstrap.min.css' ;\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\nserviceWorker.register();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title_callOperator\":\"CallPage_title_callOperator__3rX80\",\"title_callOperator_er\":\"CallPage_title_callOperator_er__1X9we\",\"container\":\"CallPage_container__3QzKI\",\"video_row\":\"CallPage_video_row__2HQ1i\",\"video\":\"CallPage_video__39Mtg\",\"video_player\":\"CallPage_video_player__3CGyd\",\"user_name\":\"CallPage_user_name__2j8Qp\",\"HangUp_div\":\"CallPage_HangUp_div__33l7z\",\"operatot_video_row\":\"CallPage_operatot_video_row__1tner\",\"call_btn_h\":\"CallPage_call_btn_h__3HJOH\",\"callBtn\":\"CallPage_callBtn__joyIj\",\"btn_call_text\":\"CallPage_btn_call_text__1BwQC\",\"btn_call_name\":\"CallPage_btn_call_name__2-lhY\",\"btn_call\":\"CallPage_btn_call__O3uKf\",\"hoverWave\":\"CallPage_hoverWave__26lDl\",\"wraper_callBtn\":\"CallPage_wraper_callBtn__1ahZT\",\"video_player_operator\":\"CallPage_video_player_operator__5jV2O\",\"video_operator\":\"CallPage_video_operator__1Pusc\",\"video_player_user\":\"CallPage_video_player_user__3vmZI\",\"video_player_little\":\"CallPage_video_player_little__1xVZO\",\"modal_container\":\"CallPage_modal_container__3RV3v\",\"is_open\":\"CallPage_is_open__1Sbp6\",\"modal_content\":\"CallPage_modal_content__3tcm9\",\"close\":\"CallPage_close__2ekLr\",\"btn_call__ico\":\"CallPage_btn_call__ico__2bqBs\",\"btn-call__ico\":\"CallPage_btn-call__ico__2DCd6\",\"shake\":\"CallPage_shake__33JqS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav_link\":\"AuthPage_nav_link__uEGIe\",\"active\":\"AuthPage_active__1ECrj\",\"tab\":\"AuthPage_tab__2GZZM\",\"nav_tabs\":\"AuthPage_nav_tabs__1gPw6\",\"tab_content\":\"AuthPage_tab_content__25Ot-\",\"form-bg\":\"AuthPage_form-bg__6Ems6\",\"form_horizontal\":\"AuthPage_form_horizontal__39p1B\",\"form_group\":\"AuthPage_form_group__1PERx\",\"form_control\":\"AuthPage_form_control__2Ims-\",\"main_checkbox\":\"AuthPage_main_checkbox__2k83Y\",\"text\":\"AuthPage_text__lwIIR\",\"btn\":\"AuthPage_btn__25xBK\",\"forgot_pass\":\"AuthPage_forgot_pass__yA4gf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"HomePage_title__1-CpF\"};","module.exports = __webpack_public_path__ + \"static/media/skayp-call.8a6a4544.mp3\";","module.exports = __webpack_public_path__ + \"static/media/toot.1e3e7b81.mp3\";"],"sourceRoot":""}