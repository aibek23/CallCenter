{"version":3,"sources":["components/Timer.js","audeo/skayp-call.mp3","audeo/toot.mp3","css/CallPage.module.css","components/form/RatingCallCenter.js","hooks/StopWatch.hook.js","pages/CallPage.js","hooks/random.string.hook.js"],"names":["Timer","props","seconds","parseInt","hours","Math","floor","minutes","module","exports","RatingCallCenter","auth","useContext","Context","useState","rating","setRating","feedback","setFeedback","data","setData","useEffect","axios","get","headers","Authorization","token","then","res","catch","err","console","log","handleRatingChange","event","target","value","className","type","name","id","checked","onChange","htmlFor","placeholder","style","backgroundColor","onClick","e","a","async","preventDefault","post","userEmail","toast","info","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","window","location","reload","message","error","useStopWatch","initialState","useHttp","request","clearError","isActive","setIsActive","isPaused","setIsPaused","time","setTime","interval","setInterval","clearInterval","handleStart","handlePauseResume","username","call","duration","videoName","callFrom","socket","openSocket","connect","process","reconnection","CallPage","JSON","parse","localStorage","getItem","surname","usersurname","email","callAccepted","setCallAccepted","callEnded","setCallEnded","stream","setStream","setCall","online_room","setOnline_room","operatorId","setOperatorId","myVideo","useRef","userVideo","connectionRef","socketRef","screenStream","setScreenStream","voiceStream","setVoiceStream","setRecording","mediaRecorder","dataChunks","operatorId_mongo","userId","Date","toLocaleDateString","replace","toLocaleTimeString","length","mask","result","i","round","random","useRandomString","Audeo_Call","Audio","ringtony","Toot_Call","toot","screen1","screen2","tabPanes","setTabPanes","mScreen","setMSreen","modal","setModal","callEndeBtnM","setCallEndeBtnM","stopRecording","current","from","emit","getMediaDevices","navigator","mediaDevices","getUserMedia","video","audio","srcObject","room","operator","getDisplayMedia","on","callerName","signal","isReceivingCall","getTracks","forEach","track","stop","off","rand","answerCall","mediaStream","MediaStream","getVideoTracks","getAudioTracks","MediaRecorder","ondataavailable","push","onstop","start","startRecording","loop","pause","peer","Peer","initiator","trickle","to","destroy","onerror","msg","url","lineNo","columnNo","leaveCall","scrollTo","document","documentElement","scrollHeight","top","body","behavior","play","innerWidth","tabPane1","intervalId","newestOnTop","rtl","pauseOnFocusLoss","styles","title_callOperator","modal_container","is_open","modal_content","video_operator","video_player_little","ref","muted","autoPlay","video_player_user","video_player","video_player_operator","user_name","HangUp_div","call_btn_h","container","operatot_video_row","playsInline","btn_call_text","btn_call_name","btn_call","btn_call__ico","wraper_callBtn","callBtn","userToCall","signalData","callUser","title_callOperator_er"],"mappings":"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","file":"static/js/5.1880c40a.chunk.js","sourcesContent":["// import \"./Timer.css\";\nexport default function Timer(props) {\n\n\tif (!props.props) {\n\t\treturn `0h:0m:0s`\n\t}\n\n\tvar seconds = parseInt(props.props, 10); // don't forget the second param\n    var hours   = Math.floor(seconds / 3600);\n    var minutes = Math.floor((seconds - (hours * 3600)) / 60);\n    seconds = seconds - (hours * 3600) - (minutes * 60);\n\n    if (hours   < 10) {hours   = \"0\"+hours;}\n    if (minutes < 10) {minutes = \"0\"+minutes;}\n    if (seconds < 10) {seconds = \"0\"+seconds;}\n\treturn `${hours}h:${minutes}m:${seconds}s`\n}\n","module.exports = __webpack_public_path__ + \"static/media/skayp-call.8a6a4544.mp3\";","module.exports = __webpack_public_path__ + \"static/media/toot.1e3e7b81.mp3\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title_callOperator\":\"CallPage_title_callOperator__18-i_\",\"title_callOperator_er\":\"CallPage_title_callOperator_er__RKVLW\",\"container\":\"CallPage_container__1G0xH\",\"video_row\":\"CallPage_video_row__1vLCN\",\"video\":\"CallPage_video__3juoL\",\"video_player\":\"CallPage_video_player__3DBl3\",\"user_name\":\"CallPage_user_name__1Uepa\",\"HangUp_div\":\"CallPage_HangUp_div__ADxpS\",\"operatot_video_row\":\"CallPage_operatot_video_row__3IvV6\",\"call_btn_h\":\"CallPage_call_btn_h__3MXcn\",\"callBtn\":\"CallPage_callBtn__BGPkZ\",\"btn_call_text\":\"CallPage_btn_call_text__1rozj\",\"btn_call_name\":\"CallPage_btn_call_name__G3Sip\",\"btn_call\":\"CallPage_btn_call__3Dkf7\",\"hoverWave\":\"CallPage_hoverWave__3WUbS\",\"wraper_callBtn\":\"CallPage_wraper_callBtn__3ZZGF\",\"video_player_operator\":\"CallPage_video_player_operator__1TGTF\",\"video_operator\":\"CallPage_video_operator__3dOx8\",\"video_player_user\":\"CallPage_video_player_user__2EAqg\",\"video_player_little\":\"CallPage_video_player_little__1MMT5\",\"modal_container\":\"CallPage_modal_container__3oGiJ\",\"is_open\":\"CallPage_is_open__2nlXm\",\"modal_content\":\"CallPage_modal_content__2f-e4\",\"close\":\"CallPage_close__3T7xI\",\"btn_call__ico\":\"CallPage_btn_call__ico__3nmG6\",\"btn-call__ico\":\"CallPage_btn-call__ico__2M6LE\",\"shake\":\"CallPage_shake__R67z9\"};","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Context } from \"../../context/Context\";\r\nimport axios from \"axios\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"./ratingCallCenter.css\";\r\n\r\nconst RatingCallCenter = () => {\r\n  const auth = useContext(Context);\r\n  const [rating, setRating] = useState(0);\r\n  const [feedback, setFeedback] = useState(\"\");\r\n  const [data, setData] = useState(true);\r\n  useEffect(() => {\r\n    axios\r\n      .get(`/api/rating/latest`, {\r\n        headers: { Authorization: `Bearer ${auth.token}` },\r\n      })\r\n      .then((res) => {\r\n        setData(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }, []);\r\n  const handleRatingChange = (event) => {\r\n    setRating(parseInt(event.target.value));\r\n  };\r\n\r\n  const handleFeedbackChange = (event) => {\r\n    setFeedback(event.target.value);\r\n  };\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\r\n        `/api/rating/save`,\r\n        { rating, feedback, userEmail: auth.userEmail },\r\n        {\r\n          headers: { Authorization: `Bearer ${auth.token}` },\r\n        }\r\n      );\r\n      toast.info(`отзыв сохранен`, {\r\n        position: \"top-right\",\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      setTimeout(() => {\r\n        window.location.reload();\r\n      }, 2000);\r\n    } catch (error) {\r\n      let message = error.message;\r\n      toast.error(`${message}`, {\r\n        position: \"top-right\",\r\n        autoClose: 2000,\r\n        hideProgressBar: false,\r\n        closeOnClick: true,\r\n        pauseOnHover: true,\r\n        draggable: true,\r\n        progress: undefined,\r\n      });\r\n      // setTimeout(() => {\r\n      //   window.location.reload();\r\n      // }, 2000);\r\n    }\r\n  };\r\n\r\n  return data ? (\r\n    \"\"\r\n  ) : (\r\n    <div className=\"rating_container\">\r\n      <div className=\"container d-flex justify-content-center mt-5\">\r\n        <div className=\" text-center\">\r\n          <div className=\"bg-success text-white rounded\">\r\n            <h6 className=\"mb-0 pt-5 P-3\">\r\n              Насколько понятным и доступным был общий уровень коммуникации с\r\n              переводчиком?\r\n            </h6>\r\n            <div className=\"rating\">\r\n              <input\r\n                type=\"radio\"\r\n                name=\"rating\"\r\n                value=\"5\"\r\n                id=\"5\"\r\n                checked={rating === 5}\r\n                onChange={handleRatingChange}\r\n              />\r\n              <label htmlFor=\"5\">☆</label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"rating\"\r\n                value=\"4\"\r\n                id=\"4\"\r\n                checked={rating === 4}\r\n                onChange={handleRatingChange}\r\n              />\r\n              <label htmlFor=\"4\">☆</label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"rating\"\r\n                value=\"3\"\r\n                id=\"3\"\r\n                checked={rating === 3}\r\n                onChange={handleRatingChange}\r\n              />\r\n              <label htmlFor=\"3\">☆</label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"rating\"\r\n                value=\"2\"\r\n                id=\"2\"\r\n                checked={rating === 2}\r\n                onChange={handleRatingChange}\r\n              />\r\n              <label htmlFor=\"2\">☆</label>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"rating\"\r\n                value=\"1\"\r\n                id=\"1\"\r\n                checked={rating === 1}\r\n                onChange={handleRatingChange}\r\n              />\r\n              <label htmlFor=\"1\">☆</label>\r\n            </div>\r\n            <div className=\"p-3\">\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                placeholder=\"Пожалуйста напишите отзыв здесь\"\r\n                value={feedback}\r\n                onChange={handleFeedbackChange}\r\n              />\r\n            </div>\r\n            <div className=\"buttons px-4 mt-0\">\r\n              <button\r\n                className=\"btn btn-block rating-submit\"\r\n                style={{backgroundColor: \"rgb(47 11 69 / 87%)\"}}\r\n                onClick={handleSubmit}\r\n              >\r\n                Отправить\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RatingCallCenter;\r\n","import {useState, useEffect ,useContext } from 'react';\nimport {toast} from 'react-toastify'\nimport {Context} from '../context/Context'\nimport { useHttp } from './http.hook';\nexport  const useStopWatch = (initialState = 0) => {\n    const {request, error, clearError} = useHttp();\n    const auth = useContext(Context)\n    const [isActive, setIsActive] = useState(false);\n    const [isPaused, setIsPaused] = useState(true);\n    const [time, setTime] = useState(initialState);\n    \n    useEffect(() => {\n      let interval = null;\n      if (isActive && isPaused === false) {\n        interval = setInterval(() => {\n          setTime((time) => time + 1);\n        }, 1000);\n      } else {\n        clearInterval(interval);\n      }\n      return () => {\n        clearInterval(interval);\n      };\n    }, [isActive, isPaused]);\n\n    useEffect(() => {\n      error&&toast.error(`${error}`, {\n        position: \"top-right\",\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        });\n      clearError()\n    }, [error, clearError])\n    \n    const handleStart = () => {\n      setIsActive(true);\n      setIsPaused(false);\n    };\n    \n    const handlePauseResume = async (username , call) => {\n      setIsPaused(!isPaused);\n      try {\n\n         await request('/api/time/save', 'POST', {duration: time, videoName: username , callFrom:call}, {\n          Authorization: `Bearer ${auth.token}`\n        })\n      } catch (e) {console.log(e)}\n    };\n    \n  return {\n    handleStart,handlePauseResume,time\n};\n};\n\nexport default useStopWatch;","import React, { useState, useEffect, useRef } from \"react\";\nimport RatingCallCenter from \"../components/form/RatingCallCenter\";\nimport ringtony from \"../audeo/skayp-call.mp3\"\nimport toot from \"../audeo/toot.mp3\"\nimport styles from \"../css/CallPage.module.css\";\nimport {toast, ToastContainer} from 'react-toastify'\nimport Peer from 'simple-peer';\nimport openSocket from 'socket.io-client';\nimport 'react-toastify/dist/ReactToastify.css'\nimport useStopWatch  from \"../hooks/StopWatch.hook\";\nimport Timer from \"../components/Timer\";\nimport { useRandomString } from \"../hooks/random.string.hook\";\nconst socket = openSocket.connect(`${process.env.REACT_APP_API_URL}`, { reconnection: false })\nconst CallPage = (props) => {\nconst {handleStart,handlePauseResume,time} = useStopWatch(0);\n  \n  const data = JSON.parse(localStorage.getItem('userData'));\n  const name = data.username;\n  const surname = data.usersurname;\n  const email = data.userEmail;\n  const [callAccepted, setCallAccepted] = useState(false);\n  const [callEnded, setCallEnded] = useState(false);\n  const [stream, setStream] = useState();\n  const [call, setCall] = useState({});\n  const [online_room, setOnline_room] = useState([]);\n  const [operatorId, setOperatorId] = useState();\n\n  const myVideo = useRef();\n  const userVideo = useRef();\n  const connectionRef = useRef();\n  const socketRef = useRef(socket);\n  \n  const [screenStream, setScreenStream] = useState(null);\n  const [voiceStream, setVoiceStream] = useState(null);\n  const [recording, setRecording] = useState(false);\n  let mediaRecorder = null;\n  let dataChunks = [];\n  let room;\n  let operatorId_mongo = data.userId;\n  const username = useRef(`${name}_${operatorId_mongo}_${new Date().toLocaleDateString().replace(/\\./g, '')}_${new Date().toLocaleTimeString().replace(/\\:/g, '')}_${useRandomString(8)}`);\n  const Audeo_Call = new Audio(ringtony);\n  const Toot_Call = new Audio(toot);\n\n  //style\n  const [tabPanes, setTabPanes] = useState({ screen1: true, screen2: false });\n  const [mScreen, setMSreen] = useState(false);\n  const [modal , setModal] = useState(false);\n  const [callEndeBtnM, setCallEndeBtnM ] = useState(100)\n\n  useEffect(() => {\n    const getMediaDevices = async () => {\n      try {\n        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });\n        setStream(stream);\n        myVideo.current.srcObject = stream;\n      } catch (err) {\n        console.log(\"An error occurred: \" + err);\n      }\n    };\n    if (props.props) {\n      const room = 'room' + props.props.operator;\n      socketRef.current.emit('user:connect', username.current);\n      getMediaDevices();\n      navigator.mediaDevices.getDisplayMedia({ video: true })\n        .then((screenStream) => setScreenStream(screenStream))\n        .catch((err) => console.log(\"An error occurred while getting screen media: \" + err));\n      navigator.mediaDevices.getUserMedia({ audio: true })\n        .then((voiceStream) => setVoiceStream(voiceStream))\n        .catch((err) => console.log(\"An error occurred while getting audio media: \" + err));\n      socket.emit('createRoom', email, room, operatorId_mongo);\n      socket.on('callUser', ({ from, name: callerName, signal, surname }) => {\n        setCall({ isReceivingCall: true, from, name: callerName, signal, surname });\n      });\n    } else {\n      socket.on('answerCall', ({ from, name: callerName, signal, surname }) => {\n        console.log(\"answer\");\n        setCall({ isReceivingCall: true, from, name: callerName, signal, surname });\n      });\n      \n      socket.emit('createRoom', email);\n      socket.on('online_room', (data) => { setOnline_room(data); });\n      getMediaDevices();\n    }\n    socket.on('update', data => console.log(data));\n    socket.on('connect_error', err => {\n      console.log(err);\n      setTimeout(() => { window.location.reload(); }, 500);\n    });\n    socket.on('disconnect', () => { window.location.reload(); });\n    socket.on('callEndeMessage', (e) => {  \n      toast.error(`связь прервана callEndeMessage`, {\n        position: \"top-right\",\n        autoClose: 1000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        });\n        setTimeout(() => { window.location.reload(); }, 1000);\n    });\n    socket.on('callUser', ({ from, name: callerName, signal, surname }) => {\n      console.log(\"operator\");\n      setCall({ isReceivingCall: true, from, name: callerName, signal, surname });\n    });\n    const stopMediaDevices = () => {\n      if (stream) {\n        stream.getTracks().forEach((track) => {\n          track.stop();\n        });\n      }\n      if (screenStream) {\n        screenStream.getTracks().forEach((track) => {\n          track.stop();\n        });\n      }\n      if (voiceStream) {\n        voiceStream.getTracks().forEach((track) => {\n          track.stop();\n        });\n      }\n    };\n    \n    return () => {\n      stopMediaDevices();\n      socket.off('update');\n      socket.off('connect_error');\n      socket.off('disconnect');\n      socket.off('callEndeMessage');\n      socket.off('callUser');\n    };\n  }, [props.props, email]);\n\n  useEffect(() => {\n    var rand = Math.floor(Math.random() * online_room.length);\n    if (online_room[rand]) {\n      let id = online_room[rand]\n      setOperatorId(id.operator)\n      console.log(online_room);\n    }\n  },[online_room]);\n\n  // let mediaRecorder;\n  // let dataChunks = [];\n\n  function startRecording() {\n    if (screenStream && voiceStream && !mediaRecorder) {\n      setRecording(true);\n      handleStart();\n      let mediaStream;\n      if (voiceStream === 'unavailable') {\n        mediaStream = screenStream;\n      } else {\n        mediaStream = new MediaStream([\n            ...screenStream.getVideoTracks(),\n            ...voiceStream.getAudioTracks()\n        ]);\n      }\n      mediaRecorder = new MediaRecorder(mediaStream);\n      mediaRecorder.ondataavailable = ({ data }) => {\n        dataChunks.push(data);\n        socketRef.current.emit('screenData:start', {\n          username: username.current,\n          data\n        });\n      };\n      mediaRecorder.onstop = stopRecording;\n      mediaRecorder.start(150);\n    }\n  }\n\n  function stopRecording() {\n    handlePauseResume(username.current, call.from);\n    setRecording(false);\n    socketRef.current.emit('screenData:end', username.current);\n    mediaRecorder = null;\n    dataChunks = [];\n  }\n  const answerCall = () => {\n\n    startRecording();\n    Audeo_Call.loop = false;\n    Audeo_Call.pause();\n    setCallAccepted(true);\n    const peer = new Peer({ initiator: false,  trickle: false, stream: stream });\n    peer.on('signal', (data) => {\n      socket.emit('answerCall', { signal: data, to: call.from ,room:'room' + props.props.operator});\n    });\n    peer.on('stream', data => {\n      userVideo.current.srcObject  = data;\n    });\n    peer.on('error', (err) => {\n      console.log(err);\n      if(err=\"RTCError: User-Initiated Abort, reason=Close called\"){\n        toast.error(`связь прервана №${err.message}`, {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          });\n        stopRecording();\n        socket.emit('callEnde', call.from);\n        connectionRef.current.destroy();\n        setTimeout(() => {\n          window.location.reload();\n        }, 500);\n      }\n      })\n    peer.signal(call.signal);\n    connectionRef.current = peer;\n  };\n\n  const callUser = (id) => {\n    Toot_Call.loop = true;\n    Toot_Call.play();\n    const peer = new Peer({ initiator: true, trickle: false, stream: stream });\n\n    peer.on('error', (err) => {console.log(err);})\n    peer.on('signal', (data) => {\n      socket.emit('callUser', { userToCall: id, signalData: data, from: email, name:name, surname:surname});\n    });\n    peer.on('stream', (data) => {\n      Toot_Call.loop = false;\n      Toot_Call.pause();\n      userVideo.current.srcObject = data;\n    });\n    socket.on('callAccepted', (signal) => {\n      setCallAccepted(true);\n      console.log(signal);\n      peer.signal(signal);\n    });\n    connectionRef.current = peer;\n  };\n\n\n\n  window.onerror = function(msg, url, lineNo, columnNo, error) {\n    // ... обработка ошибки ...\n   if(msg==='Uncaught Error: Connection failed.'){\n    stopRecording();\n    toast.error(`Connection failed`, {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n      });\n\n   }\n    return false;\n  }\n  const leaveCall = () => {\n    window.scrollTo(0,document.documentElement.scrollHeight)\n    stopRecording();\n    console.log(call.from);\n    socket.emit('callEnde', call.from);\n    connectionRef.current.destroy();    \n    setCallEnded(true);\n    setTimeout(() => {\n      window.location.reload();\n    }, 500);\n  };\n\n  useEffect(() => {\n    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\n    if (call.isReceivingCall&&!callAccepted) {\n      Audeo_Call.loop = true;\n      Audeo_Call.play();\n    } else {\n      Audeo_Call.loop = false;\n      Audeo_Call.pause();\n    }\n    // Clean up the effect\n    return () => {\n      Audeo_Call.loop = false;\n      setTimeout(() => {\n        Audeo_Call.pause();\n      }, 500);\n   \n    };\n  }, [call,callAccepted]);\n  //style\n\n  useEffect(()=>{\n  if(576>=window.innerWidth){\n  setMSreen(true)\n  }},[])\n\n  var openModal = function() {\n    if(576>=window.innerWidth){\n      setModal(true)\n    }\n  }\n  const tabPane1 = () => {\n    setTabPanes({ screen1: !tabPanes.screen1, screen2: tabPanes.screen1 })\n  }\n\n  useEffect(() => {\n    if (!callEndeBtnM) return;\n    const intervalId = setInterval(() => {\n      setCallEndeBtnM(callEndeBtnM - 1);\n    }, 1000);\n\n    return () => clearInterval(intervalId);\n  }, [callEndeBtnM]);\n  const callBtnFunc = () => {\n    setCallEndeBtnM(8)\n    }\n    useEffect(() => {\n      if (myVideo.current !== undefined) {\n        myVideo.current.play()\n      }\n      if (userVideo.current !== undefined) {\n        userVideo.current.play()\n      }\n    }, [modal]);\n  return (\n    <div className=\"background_IMG\">\n      { props.props?\"\":<RatingCallCenter/>}\n    <div className=\"container\" onClick={()=>callBtnFunc()}>\n            <ToastContainer\n              position=\"top-right\"\n              autoClose={5000}\n              hideProgressBar={false}\n              newestOnTop={false}\n              closeOnClick\n              rtl={false}\n              pauseOnFocusLoss\n              draggable\n              pauseOnHover\n            />\n      <h1 className={styles.title_callOperator} >Переводчик жестового языка</h1>\n      <div className=\"Operators-row\" >\n        {mScreen?\n        <div className={styles.modal_container + \" \" + `${modal&&styles.is_open}`}>\n        <div className={styles.modal_content} >\n              <div className={styles.video_operator + \" \" +styles.video + \" \" + `${tabPanes.screen2 && styles.video_player_little}`} onClick={() => { tabPane1() }}>\n                <video  ref={myVideo} muted autoPlay  className={styles.video_player_user+\" \"+styles.video_player} />\n              </div>\n              {callAccepted && !callEnded && (\n                  <div className={styles.video + \" \" + `${tabPanes.screen1 && styles.video_player_little}`} onClick={() => { tabPane1() }}>\n                  <video  ref={userVideo} autoPlay className={styles.video_player_operator + ' ' + styles.video_player}></video>\n                    <h6 className={styles.user_name}>{call.name} {call.surname} </h6>\n                  <h6 className={styles.user_name}>{call.email} </h6>\n                </div> \n              )}\n              {callEndeBtnM&&\n              <div className={styles.HangUp_div}>\n                <button type=\"button\" className={styles.call_btn_h} onClick={leaveCall}>\n                  {/* Hang Up */}\n                </button>\n              </div>\n              }\n        </div>\n      </div>\n      :\n      <div className={styles.container}>\n        <div className={styles.operatot_video_row}>\n          \n              <div className=\"col-6 p-2\">\n                <video playsInline ref={myVideo} muted autoPlay className={styles.video_player_user+\" \"+styles.video_player} />\n              </div>\n              \n              {callAccepted && !callEnded && (\n                      <div className=\"col-6 p-2\">\n                        <video  ref={userVideo} autoPlay className={styles.video_player_operator + ' ' + styles.video_player}></video>\n                        <h6 className={styles.user_name}>{call.name} {call.surname} </h6>\n                        {/* <h6 className={styles.user_name}>{call.email} </h6> */}\n                      </div>\n              )}\n             </div>\n      </div>}\n      </div>\n      {call.isReceivingCall && !callAccepted && (\n        <div  className={styles.btn_call_text}>\n          <p className={styles.btn_call_name}>{call.name}</p> \n          <button className={styles.btn_call} onClick={()=>{answerCall()}}>\n            <div className={styles.btn_call__ico}>\n              <i className=\"fas fa-phone-alt\"></i>\n            </div>\n        </button>\n        </div>\n      )}\n      <div className={styles.wraper_callBtn}>\n      {callAccepted && !callEnded ? (\n             <div className={styles.HangUp_div}>\n                <button type=\"button\" className={styles.call_btn_h} onClick={leaveCall}>\n                  {/* Hang Up */}\n                </button>\n              </div>\n        ) : (online_room.length?\n              <div className={styles.HangUp_div}>\n                <button type=\"button\" className={styles.callBtn} onClick={() => { callUser(operatorId); setCallAccepted(true); openModal();}}>\n                   {/* Hang D */}\n                </button>\n              </div>:props.props?\"\":<div className={styles.HangUp_div}>\n                <div className=\"row\">\n                  <h4 className={styles.title_callOperator_er} >просим подождать несколько минут все операторы заняты</h4>\n                  <h5 className={styles.title_callOperator_er} >когда появится зеленая кнопка нажмите его для осуществления видеозвонка</h5>\n                  </div>\n              </div>\n            )}\n      </div>\n      <div className=\"text-end text-danger\">\n      <Timer props={time}/>\n      </div>\n      </div>\n    </div>\n  )\n}\nexport default CallPage;","export function useRandomString(length) {\n    var mask = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'; \n    var result = '';\n    for (var i = length; i > 0; --i) result += mask[Math.round(Math.random() * (mask.length - 1))];\n    return result;\n}"],"sourceRoot":""}